function PublishCourse(){selectorx=$(".duallistbox").bootstrapDualListbox({nonSelectedListLabel:"未选课程",selectedListLabel:"本校课程",filterTextClear:'<span class="badge badge-primary">清除筛选</span>',infoTextFiltered:'<span class="badge badge-warning">筛选</span> {0} from {1}',infoText:"已选/未选 {0}",infoTextEmpty:"空",filterPlaceHolder:"筛选条件"})}PublishCourse.prototype.listenDefineEvent=function(){$(".define-btn").click(function(){var e=selectorx.val(),s=$(this).attr("data-school-id");acajax.post({url:"/course/select_school_course/",traditional:!0,dataType:"json",data:{course_ids:JSON.stringify(e),school_id:s},success:function(e){acalert.alertSuccess({msg:"修改成功！",confirmCallback:function(){window.location.reload()}})}})})},PublishCourse.prototype.listenAddCourseEvent=function(){var e=$(".submit-btn"),t=$("#course-input"),n=$("#weekday-input"),a=$("#time-input");e.click(function(){var o=t.val(),e=n.val(),s=a.val();acajax.post({url:"/course/add_course/",data:{course_name:o,week_day_id:e,course_time_id:s},success:function(e){$("#course-modal").modal("hide");var s=e.data.id,t=e.data.week_day,n=e.data.course_time;selectorx.append("<option value="+s+">"+o+"&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;"+t+"&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;"+n+"</option>"),selectorx.bootstrapDualListbox("refresh")}})})},PublishCourse.prototype.run=function(){this.listenDefineEvent(),this.listenAddCourseEvent()},$(function(){(new PublishCourse).run()});
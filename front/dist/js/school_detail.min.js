function SchoolDetail(){}SchoolDetail.prototype.listenJoinEvent=function(){$(".join-btn").click(function(){var t=$(this).attr("data-school-id"),o=$(this).attr("data-school-name");acajax.post({url:"/join_school/",data:{school_id:t},success:function(t){acalert.alertSuccess({msg:"欢迎加入"+o+"!",confirmCallback:function(){window.location.reload()}})}})})},SchoolDetail.prototype.listenQuitEvent=function(){$(".quit-btn").click(function(){var t=$(this).attr("data-school-name");acalert.alertConfirm({msg:"确定要退出"+t+"吗？",confirmCallback:function(){acajax.post({url:"/quit_school/",data:{},success:function(t){acalert.alertSuccess({title:"欧耶~",msg:"恭喜你成功辍学！",confirmCallback:function(){window.location.reload()}})}})}})})},SchoolDetail.prototype.listenCommentEvent=function(){var t=$(".submit-btn"),n=$("#comment");t.click(function(){var t=n.val(),o=$(this).attr("data-school-id");acajax.post({url:"/add_comment/",data:{content:t,school_id:o},success:function(t){acalert.alertSuccess({msg:"评论发布成功！",confirmCallback:function(){window.location.reload()}})}})})},SchoolDetail.prototype.run=function(){this.listenJoinEvent(),this.listenQuitEvent(),this.listenCommentEvent()},$(function(){(new SchoolDetail).run()});
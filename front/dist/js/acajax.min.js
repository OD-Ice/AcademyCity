function getCookie(e){var t=null;if(document.cookie&&""!==document.cookie)for(var o=document.cookie.split(";"),r=0;r<o.length;r++){var a=jQuery.trim(o[r]);if(a.substring(0,e.length+1)===e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t}var acajax={get:function(e){e.method="get",this.ajax(e)},post:function(e){e.method="post",this._ajaxSetup(),this.ajax(e)},ajax:function(e){var a=e.success;e.success=function(e){if(200===e.code)a&&a(e);else{var t=e.message;if("string"==typeof t||t.constructor===String)acalert.alertError(t);else for(var o in t){var r=t[o][0];acalert.alertError(r)}}},e.fail=function(e){console.log(e),acalert.alertError("服务器内部错误！")},$.ajax(e)},_ajaxSetup:function(){$.ajaxSetup({beforeSend:function(e,t){/^(GET|HEAD|OPTIONS|TRACE)$/.test(t.type)||this.crossDomain||e.setRequestHeader("X-CSRFToken",getCookie("csrftoken"))}})}};
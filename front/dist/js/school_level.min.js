function Level(){}Level.prototype.listenSubmitBtn=function(){var t=$(".submit-btn"),i=$("#level-input"),o=$("#priority-input");t.click(function(){var t=i.val(),l=o.val(),a=$(this).attr("data-id"),e=null,n=null,n=a?(e="/edit_school_level/","修改成功！"):(e="/add_school_level/","添加成功！");acajax.post({url:e,data:{name:t,priority:l,level_id:a},success:function(t){acalert.alertSuccess({msg:n,confirmCallback:function(){window.location.reload()}})}})})},Level.prototype.listenDelBtn=function(){$(".delete-btn").click(function(){var l=this;acalert.alertConfirm({msg:"确定要删除此科研等级吗？",confirmCallback:function(){var t=$(l).attr("data-id");acajax.post({url:"/del_school_level/",data:{level_id:t},success:function(t){acalert.alertSuccess({msg:"删除成功！",confirmCallback:function(){window.location.reload()}})}})}})})},Level.prototype.run=function(){this.listenSubmitBtn(),this.listenDelBtn()},$(function(){(new Level).run(),$("#level-modal").on("show.bs.modal",function(t){var l=$(t.relatedTarget),a=l.data("level"),e=parseInt(l.data("priority")),n=l.data("id"),i=$(this);i.find(".modal-body #level-input").val(a),i.find(".modal-body #priority-input").val(e),n?i.find(".modal-footer .submit-btn").attr("data-id",n):i.find(".modal-footer .submit-btn").removeAttr("data-id")})});
function Index(){}Index.prototype.applyLevel=function(){var a=$(".level-msg-btn"),e=$("#level-input");a.click(function(){var a=e.val();acajax.post({url:"/add_message/",data:{type:"apply_level",level_id:a},success:function(a){window.location.reload()}})})},Index.prototype.applyDirector=function(){$(".apply-director").click(function(){acajax.post({url:"/add_message/",data:{type:"apply_director"},success:function(a){window.location.reload()}})})},Index.prototype.agreeApplyLevel=function(){$(".agree_apply_level").click(function(){var a=$(this).attr("data-sponsor"),e=$(this).attr("data-level"),t=$(this).attr("data-message-id");acajax.post({url:"/agree_apply_level/",data:{sponsor_id:a,level_id:e,message_id:t},success:function(a){window.location.reload()}})})},Index.prototype.agreeApplyDirector=function(){$(".agree_apply_director").click(function(){var a=$(this).attr("data-sponsor"),e=$(this).attr("data-message-id");acajax.post({url:"/agree_apply_director/",data:{sponsor_id:a,message_id:e},success:function(a){window.location.reload()}})})},Index.prototype.delMessage=function(){$(".del-message").click(function(){var a=$(this).attr("data-message-id");acajax.post({url:"/del_message/",data:{message_id:a},success:function(a){window.location.reload()}})})},Index.prototype.uploadAvatar=function(){var a=$(".avatar-img"),t=$(".avatar-input");a.click(function(){t.click(),t.change(function(){var a=t[0].files[0],e=new FormData;e.append("file",a),acajax.post({url:"/acauth/upload_avatar/",data:e,processData:!1,contentType:!1,success:function(a){window.location.reload()}})})})},Index.prototype.run=function(){this.uploadAvatar(),this.applyLevel(),this.agreeApplyLevel(),this.delMessage(),this.applyDirector(),this.agreeApplyDirector()},$(function(){(new Index).run();var a=$("#donutChart").get(0).getContext("2d"),e=jQuery.parseJSON($(a.canvas).attr("data-labels")),t=jQuery.parseJSON($(a.canvas).attr("data-counts"));new Chart(a,{type:"doughnut",data:{labels:e,datasets:[{data:t,backgroundColor:["#f56954","#00a65a","#f39c12","#00c0ef","#3c8dbc","#d2d6de","#FFFF33"]}]},options:{maintainAspectRatio:!1,responsive:!0}})});
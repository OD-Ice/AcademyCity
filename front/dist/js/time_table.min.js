function TimeTable(){}TimeTable.prototype.tableInit=function(){var e=$("#coursesTable"),t=jQuery.parseJSON(e.attr("data-weeks")),a=360<window.innerWidth?["周一","周二","周三","周四","周五"]:["一","二","三","四","五"],r=(new Date).getDay(),i=jQuery.parseJSON(e.attr("data-course-type"));new Timetables({el:"#coursesTable",timetables:t,week:a,timetableType:i,highlightWeek:r,merge:!1,gridOnClick:function(i){var e=$(".submit-btn");e.attr("data-week",i.week),e.attr("data-course-time",i.index),acajax.post({url:"/course/select_course/",data:{week:i.week,index:i.index},success:function(e){var t=e.data,a=template("course-item",{school_courses:t,course_name:i.name}),r=$("#course-input");r.empty(),r.append(a)}})},styles:{Gheight:120}});var o=$(".Courses-content li");o.attr("data-toggle","modal"),o.attr("data-target","#course-modal")},TimeTable.prototype.submitCourseTableEvent=function(){var r=$(".submit-btn"),i=$("#course-input");r.click(function(){var e=i.val(),t=r.attr("data-week"),a=r.attr("data-course-time");acajax.post({url:"/course/submit_event/",data:{course_id:e,week:t,course_time:a},success:function(e){window.location.reload()}})})},TimeTable.prototype.run=function(){this.tableInit(),this.submitCourseTableEvent()},$(function(){(new TimeTable).run()});